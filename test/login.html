<!DOCTYPE html>
<html>
<body>

<form id='login' method="post">
  User name:<br>
  <input type="text" name="username" id='username' >
  <br>
  Password:<br>
  <input type="password" name="password" id="password">
  <br><br>
  <input type="submit" id='btn_login' value="login">
</form> 
<br><br>
<form id='signup' method="post">
  User name:<br>
  <input type="text" name="username" id='re_username' >
  <br>
  Password:<br>
  <input type="password" name="password" id="re_password">
  <br>
  confirm Password:<br>
  <input type="password" name="password" id="co_password">
  <br><br>
  <input type="submit" id='btn_signup' value="Signup">
</form> 
<br><br>

<input type="submit" id='btn_logout' value="Logout">

<br><br>

<input type="submit" id='btn_galaxy' value="getGalaxies">

<br><br>

<input type="submit" id='btn_system' value="getSystems">

<br><br>

<input type="submit" id='btn_addPlanet' value="addPlanet">

<br><br>

<input type="submit" id='btn_editPlanet' value="editPlanet">





<script src='https://code.jquery.com/jquery-2.2.4.js'></script>
<script src='../IU.js'></script>
<script>
/*var username;
var password; 

function make_base_auth(user, password) {
  var tok = user + ':' + password;
  var hash = btoa(tok);
  console.log("Basic " + hash); 
  return "Basic " + hash;
}
	
$('#btn_login').click(function(e){
	e.preventDefault();
	 username = $("#username").val();
     password = $("#password").val(); 
     var h = make_base_auth(username, password);
	$.ajax( {
    url: 'http://52.23.91.16/cake/users/login.json',
    type: 'POST',
   
    
   beforeSend: function (xhr){ 
       xhr.setRequestHeader('Authorization', make_base_auth(username, password)); 
    },

   //  headers: {
   // 'Authorization': h
// },
    success: function( data) {
        console.log(data);
    },
    error: function(data){

    	console.log(data);
    }
	} );
});

$('#btn_signup').click(function(e){
	e.preventDefault();
	 username = $("#re_username").val();
     password = $("#re_password").val(); 
     var _data = {};
     _data.User = {};
     _data.User.username = username;
     _data.User.password = password;
     _data.User.star_id = 1;
     _data.User.role = 'admin';
     console.log(_data);
	$.ajax( {
    url: 'http://52.23.91.16/cake/users/add.json',
    type: 'POST',
    //dataType: 'json',
    data:_data,
    
    success: function( data, status, headers,config) {
        console.log(data);
    },
    error: function(data, status, headers,config){

    	console.log('error');
    }
	} );

});*/

var app = new IU.App();
console.log(app);

$('#btn_login').click(function(e){
	e.preventDefault();
	app.login('username','password');

});

$('#btn_signup').click(function(e){

	e.preventDefault();
	app.signup('re_username','re_password');

});

$('#btn_logout').click(function(e){

	e.preventDefault();
	app.logout();

});

$('#btn_galaxy').click(function(e){

	e.preventDefault();
	app.getGalaxies();
})

$('#btn_system').click(function(e){

	e.preventDefault();
	app.getSystems(1);
})

$('#btn_addPlanet').click(function(e){

	e.preventDefault();
	app.addPlanet();
})

$('#btn_editPlanet').click(function(e){

	e.preventDefault();
	app.editPlanet(181);
})

</script>


</body>
</html>